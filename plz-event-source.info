This is README.info, produced by makeinfo version 6.8 from README.texi.

INFO-DIR-SECTION Emacs
START-INFO-DIR-ENTRY
* Plz Event Source: (plz-event-source). A plz.el media type to handle Server-Sent Events.
END-INFO-DIR-ENTRY


File: README.info,  Node: Top,  Next: Installation,  Up: (dir)

plz-event-source
****************

http://elpa.gnu.org/packages/plz-event-source.svg
(http://elpa.gnu.org/packages/plz-event-source.html)
https://github.com/r0man/plz-event-source/actions/workflows/test.yml/badge.svg
(https://github.com/r0man/plz-event-source/actions/workflows/test.yml)

   ‚Äòplz-event-source‚Äô provides a plz-media-type
(https://github.com/r0man/plz-media-type), a parser and an event source
implementation for the Server Sent Event (SSE)
(https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events)
protocol.  It is used in the LLM (https://github.com/ahyatt/llm) library
to handle server sent events.

   üë∑üèΩ NOTE: This is work in progress.  The library is not yet on ELPA.

* Menu:

* Installation::
* Usage::
* Credits::
* License::

‚Äî The Detailed Node Listing ‚Äî

Installation

* GNU ELPA::

Usage

* Examples::

Credits

* Copyright assignment::



File: README.info,  Node: Installation,  Next: Usage,  Prev: Top,  Up: Top

1 Installation
**************

* Menu:

* GNU ELPA::


File: README.info,  Node: GNU ELPA,  Up: Installation

1.1 GNU ELPA
============

‚Äòplz-event-source‚Äô is available in GNU ELPA
(http://elpa.gnu.org/packages/plz-event-source.html).  It may be
installed in Emacs using the ‚Äòpackage-install‚Äô command.


File: README.info,  Node: Usage,  Next: Credits,  Prev: Installation,  Up: Top

2 Usage
*******

This library provides the ‚Äòplz-event-source:text/event-stream‚Äô class,
which is a media type implementation for server sent events.  It should
be used with the plz-media-type-request
(https://github.com/r0man/plz-media-type#usage) function of the
plz-media-type (https://github.com/r0man/plz-media-type) library.

* Menu:

* Examples::


File: README.info,  Node: Examples,  Up: Usage

2.1 Examples
============

The following example shows how to request chat completions from a large
language model.

     (plz-media-type-request
       'post "https://api.openai.com/v1/chat/completions"
       :as `(media-types ((text/event-stream
                           . ,(plz-event-source:text/event-stream
                               :handlers `((open . (lambda (event)
                                                     (message "open: %s" event)))
                                           (message . (lambda (event)
                                                        (message "message: %s" event)))
                                           (close . (lambda (event)
                                                      (message "close: %s" event))))))))
       :body (json-encode
              '(("model" . "gpt-3.5-turbo")
                ("messages" . [(("role" . "system")
                                ("content" . "You are an assistant."))
                               (("role" . "user")
                                ("content" . "Hello"))])
                ("stream" . t)))
       :headers `(("Authorization" . ,(format "Bearer %s"
                                              (auth-source-pick-first-password
                                               :host "api.openai.com"
                                               :user "plz-event-source")))
                  ("Content-Type" . "application/json")))


File: README.info,  Node: Credits,  Next: License,  Prev: Usage,  Up: Top

3 Credits
*********

   ‚Ä¢ Thanks to ahyatt (https://github.com/ahyatt) and alphapapa
     (https://github.com/alphapapa) for their help and advice.

* Menu:

* Copyright assignment::


File: README.info,  Node: Copyright assignment,  Up: Credits

3.1 Copyright assignment
========================

This package is part of GNU Emacs (https://www.gnu.org/software/emacs/),
being distributed in GNU ELPA (https://elpa.gnu.org/).  Contributions to
this project must follow GNU guidelines, which means that, as with other
parts of Emacs, patches of more than a few lines must be accompanied by
having assigned copyright for the contribution to the FSF.  Contributors
who wish to do so may contact emacs-devel@gnu.org <emacs-devel@gnu.org>
to request the assignment form.


File: README.info,  Node: License,  Prev: Credits,  Up: Top

4 License
*********

GPLv3



Tag Table:
Node: Top227
Node: Installation1200
Node: GNU ELPA1332
Node: Usage1590
Node: Examples2029
Node: Credits3532
Node: Copyright assignment3795
Node: License4379

End Tag Table


Local Variables:
coding: utf-8
End:
